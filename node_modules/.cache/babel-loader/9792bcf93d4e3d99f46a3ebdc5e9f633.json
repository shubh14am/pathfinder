{"ast":null,"code":"var dx = [-1, 0, 0, 1];\nvar dy = [0, -1, 1, 0];\nvar Board = new Array(20);\n\nfor (let i = 0; i < 20; i++) {\n  Board[i] = new Array(51);\n\n  for (let j = 0; j < 51; j++) {\n    Board[i][j] = false;\n  }\n}\n\nvar Path = new Array(20);\n\nfor (let i = 0; i < 20; i++) {\n  Path[i] = new Array(51);\n}\n\nvar timer = 100;\n\nfunction fill(i, j, pre_i, pre_j) {\n  setTimeout(function () {\n    let x = pre_i + 10;\n    let y = pre_j + 10; // document.getElementById(x + \"\" + y).classList.remove(\"cur\");\n\n    if (pre_i !== 10 || pre_j !== 10) document.getElementById(x + \"\" + y).classList.add(\"abc\");\n    x = i + 10;\n    y = j + 10; // document.getElementById(x + \"\" + y).classList.add(\"cur\");\n  }, timer);\n}\n\nfunction fillp(a, b) {\n  setTimeout(function () {\n    let x = a + 10;\n    let y = b + 10;\n    document.getElementById(x + \"\" + y).className = \"end\";\n  }, timer);\n}\n\nclass node {\n  constructor(i, j) {\n    this.x = i;\n    this.y = j;\n  }\n\n}\n\nfunction BFS() {\n  return {\n    bfs: function (sx, sy, ex, ey, dt) {\n      var pending_nodes = [];\n      let t = new node(sx, sy);\n      pending_nodes.push(t);\n\n      while (pending_nodes.length !== 0) {\n        timer += dt;\n        var tmp = pending_nodes.shift();\n        if (tmp.x === ex && tmp.y === ey) return true;\n\n        for (let k = 0; k < 4; k++) {\n          let nx = tmp.x + dx[k];\n          let ny = tmp.y + dy[k];\n\n          if (nx >= 0 && nx <= 19 && ny >= 0 && ny <= 50) {\n            fill(nx, ny, tmp.x, tmp.y);\n\n            if (Board[nx][ny] === false) {\n              Path[nx][ny] = new node(tmp.x, tmp.y);\n              if (nx === ex && ny === ey) return true;\n              Board[nx][ny] = true;\n              pending_nodes.push(new node(nx, ny));\n            }\n          }\n        }\n      }\n    },\n    draw: function (sx, sy, ex, ey, dt) {\n      while (ex !== sx || ey !== sy) {\n        // console.log(Path[a][b]);\n        timer += dt;\n        fillp(ex, ey);\n        ex = Path[ex][ey].x;\n        ey = Path[ex][ey].y;\n      }\n    }\n  };\n}\n\nexport default BFS;","map":{"version":3,"sources":["D:/vscode(web)/majorProject/PathFinder/pathfinder/src/bfs.jsx"],"names":["dx","dy","Board","Array","i","j","Path","timer","fill","pre_i","pre_j","setTimeout","x","y","document","getElementById","classList","add","fillp","a","b","className","node","constructor","BFS","bfs","sx","sy","ex","ey","dt","pending_nodes","t","push","length","tmp","shift","k","nx","ny","draw"],"mappings":"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","sourcesContent":["var dx = [-1, 0, 0, 1];\r\nvar dy = [0, -1, 1, 0];\r\n\r\nvar Board = new Array(20);\r\nfor (let i = 0; i < 20; i++) {\r\n    Board[i] = new Array(51);\r\n    for (let j = 0; j < 51; j++) {\r\n        Board[i][j] = false;\r\n    }\r\n}\r\nvar Path = new Array(20);\r\nfor (let i = 0; i < 20; i++) {\r\n    Path[i] = new Array(51);\r\n}\r\nvar timer = 100;\r\nfunction fill(i, j, pre_i, pre_j) {\r\n    setTimeout(function () {\r\n        let x = pre_i + 10;\r\n        let y = pre_j + 10;\r\n        // document.getElementById(x + \"\" + y).classList.remove(\"cur\");\r\n        if (pre_i !== 10 || pre_j !== 10)\r\n            document.getElementById(x + \"\" + y).classList.add(\"abc\");\r\n        x = i + 10; y = j + 10;\r\n        // document.getElementById(x + \"\" + y).classList.add(\"cur\");\r\n    }, timer);\r\n}\r\n\r\nfunction fillp(a, b) {\r\n    setTimeout(function () {\r\n        let x = a + 10;\r\n        let y = b + 10;\r\n        document.getElementById(x + \"\" + y).className = \"end\";\r\n    }, timer);\r\n}\r\n\r\nclass node{\r\n    constructor(i,j){\r\n        this.x = i;\r\n        this.y = j;\r\n    }\r\n}\r\nfunction BFS(){\r\n    return {\r\n        bfs: function (sx, sy, ex, ey,dt) {\r\n\r\n            var pending_nodes = [];\r\n            let t = new node(sx, sy);\r\n            pending_nodes.push(t);\r\n\r\n            while (pending_nodes.length !== 0) {\r\n                timer += dt;\r\n                var tmp = pending_nodes.shift();\r\n\r\n                if (tmp.x === ex && tmp.y === ey)\r\n                    return true;\r\n\r\n                for (let k = 0; k < 4; k++) {\r\n                    let nx = tmp.x + dx[k];\r\n                    let ny = tmp.y + dy[k];\r\n                    if (nx >= 0 && nx <= 19 && ny >= 0 && ny <= 50) {\r\n                        fill(nx, ny, tmp.x, tmp.y);\r\n                        if (Board[nx][ny] === false) {\r\n                            Path[nx][ny] = new node(tmp.x, tmp.y);\r\n                            if (nx === ex && ny === ey) return true;\r\n                            Board[nx][ny] = true;\r\n                            pending_nodes.push(new node(nx, ny));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        draw:function(sx,sy,ex,ey,dt){\r\n            while (ex !== sx || ey !== sy) {\r\n                // console.log(Path[a][b]);\r\n                timer += dt;\r\n                fillp(ex, ey);\r\n                ex = Path[ex][ey].x;\r\n                ey = Path[ex][ey].y;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default BFS;\r\n"]},"metadata":{},"sourceType":"module"}